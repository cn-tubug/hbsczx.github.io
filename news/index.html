<!DOCTYPE html>
<html>
  <head><meta name="generator" content="Hexo 3.9.0">
    
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="keywords" content="开源镜像,北交大开源镜像,mirror,open source,BJTU">
	<meta name="subtitle" content="SHACHENG MIDDLE SCHOOL Open Source Software Mirror">
	<meta name="description" content="Beijing Jiaotong University free and open source software mirror,河北沙城中学开源镜像站。">
	<meta name="author" content="AlynxZhou">
	<title>新闻 - 河北沙城中学开源软件镜像站</title>
	<link rel="icon" type="image/x-icon" href="/favicon.ico">
	<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
	<link rel="stylesheet" href="/css/index.css">
	<link rel="stylesheet" href="/css/spinkit.css">
	<link rel="stylesheet" href="/css/bootstrap.min.css">
	<link rel="stylesheet" href="/css/bootstrap-theme.min.css">
	<link rel="stylesheet" href="/css/font-awesome.min.css">
	<script type="text/javascript" src="/js/jquery.min.js"></script>
	<script type="text/javascript" src="/js/bootstrap.min.js"></script>


  </head>
  <body>
    
  <nav class="menu-nav navbar navbar-default" role="navigation">
    <div class="container-fluid">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="/">河北沙城中学开源软件镜像站</a>
      </div>
      <div class="collapse navbar-collapse navbar-right" id="navbar">
        <ul class="nav navbar-nav">
          
            
              <li><a href="/">首页</a></li>
            
          
            
              <li><a href="/help/">帮助</a></li>
            
          
            
              <li class="active"><a href="/news/">新闻</a></li>
            
          
            
              <li><a href="/status/">状态</a></li>
            
          
        </ul>
      </div>
    </div>
  </nav>


    
    <div class="content">
      <div class="container">
        <h1>新闻</h1>
        <h2><a name="Add-Old-News"># 修复了挂掉的FreeBSD镜像</a></h2>
<div class="news-info">
	<p>
		<i class="fa fa-calendar"></i> <span>2021-11-17</span>
		<i class="fa fa-user"></i> <span>Chestnut</span>
	</p>
</div>
<p>如果仍有问题请通过邮件或是Github联系我</p>

<h2><a name="Add-Old-News"># 补充了过去一年的旧闻</a></h2>
<div class="news-info">
	<p>
		<i class="fa fa-calendar"></i> <span>2020-08-15</span>
		<i class="fa fa-user"></i> <span>Chestnut</span>
	</p>
</div>
<p>新前端已经在路上了，咕咕咕咕咕咕咕......</p>

<h2><a name="Add-FreeBSD"># 增加了FreeBSD pkg/ports/portsnap/update反代</a></h2>
<div class="news-info">
	<p>
		<i class="fa fa-calendar"></i> <span>2020-08-10</span>
		<i class="fa fa-user"></i> <span>Chestnut</span>
	</p>
</div>
<p>使用方法已经更新至帮助页面，反向代理缓存有效期为5分钟，如遇到异常请稍后重试，其他问题请提交issue。</p>
<p>由于该发行版没有自带根证书，开放了裸http访问，但是强烈建议您使用https访问代理，以保证安全性和可靠性。</p>
<p>原openwrt反代也一并开放了裸http访问。</p>

<h2><a name="Remove-Pypi"># 移除pypi镜像&优化了ZFS参数</a></h2>
<div class="news-info">
	<p>
		<i class="fa fa-calendar"></i> <span>2020-02-23</span>
		<i class="fa fa-user"></i> <span>Chestnut</span>
	</p>
</div>
<p>因pypi占用了接近三分之一的磁盘空间，且实际访问量过小，同步压力较大，为保证整体服务质量，将pypi镜像进行了移除，原有地址将被301重定向至tuna源。</p>
<p>优化了ZFS的参数，极大降低了磁盘的读写压力，提高了镜像站的吞吐量。</p>

<h2><a name="Fix-Bad-Fibre"># 修复了光纤断裂的bug</a></h2>
<div class="news-info">
	<p>
		<i class="fa fa-calendar"></i> <span>2019-09-19</span>
		<i class="fa fa-user"></i> <span>Chestnut</span>
	</p>
</div>
<p>因为交换机所接光纤断裂迟迟没有维修，现已将服务器切换至另一交换机，带来不便敬请谅解。</p>
<h2><a name="Move-To-ZFS"># 磁盘格式迁移至ZFS</a></h2>
<div class="news-info">
	<p>
		<i class="fa fa-calendar"></i> <span>2019-08-01</span>
		<i class="fa fa-user"></i> <span>Chestnut</span>
	</p>
</div>
<p>因为学校分配了三块大小不同的三个磁盘阵列，现在分别挂载不仅安排镜像位置较为麻烦，而且读写压力过于不均衡，磁盘空间浪费较大。因此近期将会将磁盘格式迁移至ZFS，空间占用过大不便迁移的镜像可能会被清理后重新同步，届时服务将会中断。</p>
<p>迁移后，镜像的路径将发生改变，原有的disk2，disk3不再使用。</p>
<h2><a name="Fix-Grafana-Vnstat"># 修复了状态页面的Grafana和Vnstat</a></h2>
<div class="news-info">
	<p>
		<i class="fa fa-calendar"></i> <span>2019-05-10</span>
		<i class="fa fa-user"></i> <span>Chestnut</span>
	</p>
</div>
<p>年久失修的镜像站现已被重新接管，报错的状态监测已经恢复正常。</p>
<h2><a name="Fix-Bad-Files"># 修复了部分损坏的镜像</a></h2>
<div class="news-info">
	<p>
		<i class="fa fa-calendar"></i> <span>2019-05-09</span>
		<i class="fa fa-user"></i> <span>Chestnut</span>
	</p>
</div>
<p>由于未知原因，部分镜像（见issue#6）出现了损坏情况，经删除后重新同步，已经恢复正常。</p>
<h2><a name="Clean-Long-Log"># 清除根目录下过大日志</a></h2>
<div class="news-info">
	<p>
		<i class="fa fa-calendar"></i> <span>2019-03-01</span>
		<i class="fa fa-user"></i> <span>AlynxZhou</span>
	</p>
</div>
<p>由于 Nginx 的日志体积增加，占据了根目录剩余的少量空间，导致寒假期间 mirror 未能及时同步镜像。今天清空了旧的 Nginx 日志，重新挂载了硬盘，已经可以继续运行同步进程了。至于为什么寒假的事情现在才处理……因为这个 mirror 设置为只有校园网内网才能 ssh 连接，同时校园网 VPN 的 Linux 客户端不好用，我又没在 Windows 下处理过 ssh……（逃</p>
<h2><a name="Add-New-Disks"># 添加新硬盘完成</a></h2>
<div class="news-info">
	<p>
		<i class="fa fa-calendar"></i> <span>2018-07-22</span>
		<i class="fa fa-user"></i> <span>AlynxZhou</span>
	</p>
</div>
<p>由于原有硬盘已经满载导致 mirror 在一段时间内无法同步（“吃饱啦！”），经过沟通信息中心又提供了一倍的硬盘容量（“接着给我吃！”），近日正在将旧硬盘的部分数据转移至新硬盘（没有 LVM 的无聊世界啊），转移工作预计将在今日完成，随后即可正常同步，部分镜像由于较长时间未同步可能需要一定时间同步（“饿坏了！”），同时部分路径发生变化，请参照help重新设置。如您发现使用问题可以点击站点底部的 issue 链接进行反馈。（专事专干，各位不要再往我博客底下评论 mirror 问题了好吗……）</p>
<h2><a name="Remove-Change-Mirrors"># 移除更换部分镜像</a></h2>
<div class="news-info">
	<p>
		<i class="fa fa-calendar"></i> <span>2017-12-17</span>
		<i class="fa fa-user"></i> <span>AlynxZhou</span>
	</p>
</div>
<p>startos 和 qomo 目录为空，已经被移除。同时由于 cinnarch 项目早已经更名为 antergos，我们已经将这个镜像的名字更改为 <a href="/antergos/">antergos</a>。</p>
<h2><a name="Switch-to-HTTPS"># 镜像站切换到 HTTPS 协议</a></h2>
<div class="news-info">
	<p>
		<i class="fa fa-calendar"></i> <span>2017-12-15</span>
		<i class="fa fa-user"></i> <span>AlynxZhou</span>
	</p>
</div>
<p>出于 BLUG 用户的友（强）好（烈）建（吐）议（槽）以及各大镜像站都开启了 HTTPS 访问的现状，本站即日起启用 HTTPS 协议，如果您还在使用 HTTP 协议，镜像站会自动跳转为 HTTPS 协议。</p>
<p>此外，由于相关部门要求，本站关闭了 nginx 的 autoindex 模块，如果您访问各镜像目录返回 403 错误，为正常情况，已经使用中的包管理器不会受到影响，本站正在积极寻找替代方案。</p>
<p>如果在使用过程中出现问题，欢迎点击站点底部的 issue 链接进行反馈。</p>
<h2><a name="Remove-Unused-Mirrors"># 准备移除部分失效镜像</a></h2>
<div class="news-info">
	<p>
		<i class="fa fa-calendar"></i> <span>2017-12-12</span>
		<i class="fa fa-user"></i> <span>AlynxZhou</span>
	</p>
</div>
<p>CRUX PPC 带着他的软件仓库跑路了，我们我们没有没有办法，原价一百块两百块的域名统统只要二十块……（这段注释掉行不）</p>
<p>事情的经过是这样的，自从发现 CRUX PPC 在列表里一直坚挺 failed 之后，我去访问了 CRUX PPC 项目的网址 <a href="http://www.cruxppc.org/" target="_blank" rel="noopener">cruxppc.org</a> 发现他们把标题改成了“此网站的域名可以出售”（还有中文，真贴心）。</p>
<p>考虑到项目已经撤销，首先建议仍在使用此发行版的用户转移到别的发行版（真的有吗？），然后本站将移除此镜像，以便为其他用户较多的镜像提供空间。</p>
<p>在此次排查中还发现 <a href="/kde/">KDE</a> 镜像目录长期为空，推测使用用户较少（都空了还没人知道），准备移除此目录，如无特殊需要请使用各自发行版提供的 KDE 桌面环境。</p>
<p>startos 似乎已经停止开发（充满山寨气息的官网向我诉说着它的经历），如果有使用 startos 的用户，建议切换到看起来就更加靠谱的其他发行版（Ubuntu/LinuxMint/Fedora/openSUSE，非要支持国产发行版选 Deepin 也行啊，最起码人家做的不错也算小有名气……），同样下落不明的还有 Qomo Linux，由于情况不明暂时进行保留，待获取到确定消息之后进行下一步动（清）作（理）。</p>
<p>如果你很不幸的成为上述跑路发行版的使用者之一，建议在代价不高的前提下及早更换成有维护的发行版，安全有保障，使用无人维护的发行版非常危险（虽然这些发行版看起来连文档都没有，使用没有文档的发行版同样危险）。如果你面临着较高的更换代价（谁让你在生产环境上使用这种小白鼠发行版啊喂），事实上本站保留这些已经不更新的软件仓库对你也没有什么用处。</p>
<p>如果对上述有疑问，欢迎点击站点底部的 issue 链接进行反馈。</p>
<h2><a name="Added-Kali"># 增加了 Kali Linux 镜像</a></h2>
<div class="news-info">
	<p>
		<i class="fa fa-calendar"></i> <span>2017-12-10</span>
		<i class="fa fa-user"></i> <span>AlynxZhou</span>
	</p>
</div>
<p>镜像站新增了 Kali Linux 的软件包仓库镜像和安装镜像，由于镜像服务器阻止来自学校外面的 ssh 连接，Kali 官方推荐的由其进行 ssh 触发同步的方式无法使用，目前暂定同步上游为清华大学的开源镜像站，可以放心使用。</p>
<h2><a name="Updated-Website"># 镜像站网页更新</a></h2>
<div class="news-info">
	<p>
		<i class="fa fa-calendar"></i> <span>2017-12-10</span>
		<i class="fa fa-user"></i> <span>AlynxZhou</span>
	</p>
</div>
<p>镜像站网页更新为使用 hexo 生成的页面，部分功能仍在开发中，网站主题源码托管在 <a href="https://github.com/AlynxZhou/hexo-theme-mirror" target="_blank" rel="noopener">这里</a>。</p>
<p>现在可以在页面查看各镜像的同步状态，使用帮助（部分），以及服务器的流量状态。其中同步状态使用 ajax 每 10s 自动刷新。流量状态每分钟更新，需要手动刷新及清除缓存。</p>

        
  
  <div class="sk-wave" id="sk-wave">
    <div class="sk-rect sk-rect1"></div>
    <div class="sk-rect sk-rect2"></div>
    <div class="sk-rect sk-rect3"></div>
    <div class="sk-rect sk-rect4"></div>
    <div class="sk-rect sk-rect5"></div>
  </div>
  <div id="indexTable">
  </div>
  <script type="text/javascript">
    function buildIndexTable(descHelp) {
      // $("#indexTable").empty();
      // $("#sk-wave").show();
      $.getJSON("/status/task_status.json", function (taskStatus) {
        var innerHTML = "<table class=\"table table-hover\"><thead><tr class=\"row\"><th class=\"col-sm-8\">镜像名称</th><th class=\"col-sm-4\">同步状态</th></tr></thead><tbody>";
        for (mirror in taskStatus) {
          if (descHelp[mirror] == null) {
            continue;
          }
          if (taskStatus[mirror]["status"] === 2 && (taskStatus[mirror]["exitcode"] === 0 || (mirror === "pypi" && taskStatus[mirror]["exitcode"] === 1))) {
            innerHTML += "<tr class=\"row\">";
          } else if (taskStatus[mirror]["status"] === 1 || taskStatus[mirror]["status"] === 0) {
            innerHTML += "<tr class=\"row info\">";
          } else if (taskStatus[mirror]["exitcode"] !== 0) {
            innerHTML += "<tr class=\"row warning\">";
          } else {
            innerHTML += "<tr class=\"row danger\">"
          }
          innerHTML += "<td class=\"col-md-8\">";
          if (descHelp[mirror]["desc"]) {
            innerHTML += ("<a data-toggle=\"popover\" data-trigger=\"hover\" data-placement=\"right\" title=\"" + mirror + "\" data-content=\"" + descHelp[mirror]["desc"] + "\" href=\"" + descHelp[mirror]["link"] + "\">" + mirror + "</a>");
          } else {
            innerHTML += ("<a href=\"" + descHelp[mirror]["link"] + "\">" + mirror + "</a>");
          }
          if (descHelp[mirror] && descHelp[mirror]["help"]) {
            innerHTML += ("  " + "<a href=\"" + descHelp[mirror]["help"] + "\"><i title=\"Help\" class=\"fa fa-question-circle\"></i></a>");
          }
          innerHTML += "</td><td class=\"col-md-4\">";
          innerHTML += taskStatus[mirror]["date"];
          if (taskStatus[mirror]["status"] === 2 && (taskStatus[mirror]["exitcode"] === 0 || (mirror === "pypi" && taskStatus[mirror]["exitcode"] === 1))) {
            innerHTML += ("  " + "<span class=\"label label-success\">success</span>");
          } else if (taskStatus[mirror]["status"] === 1 || taskStatus[mirror]["status"] === 0) {
            innerHTML += ("  " + "<span class=\"label label-info\">syncing</span>");
          } else if (taskStatus[mirror]["exitcode"] !== 0) {
            innerHTML += ("  " + "<span class=\"label label-warning\">failed</span>");
          } else {
            innerHTML += ("  " + "<span class=\"label label-danger\">unknown</span>");
          }
          innerHTML += "</td></tr>";
        }
        innerHTML += "</tbody></table>"
        $("#indexTable").empty().append(innerHTML);
        $("#sk-wave").hide();
        $("[data-toggle=\"popover\"]").popover();
      });
    }
    $(document).ready(function () {
      $("#sk-wave").show();
      $.getJSON("/help/desc_help.json", function (descHelp) {
        buildIndexTable(descHelp);
        setInterval(function () {
          buildIndexTable(descHelp);
        }, 300000);
      });
    });
  </script>



      </div>
    </div>
    
    
  <footer class="footer">
    <script type="text/javascript">
      var cur = Date.now();
    </script>
    <div class="container">
      <div class="row">
        <div class="col-lg-3 col-md-3" style="margin-bottom: 5px;">
          
            <p>CopyLeft © 2005 - 2022 <a href="http://bjtu.edu.cn/" target="_blank">河北沙城中学</a></p>
          
          <p>由 Hexo 强力推进</p>
          <p>使用 mirror 作为镜像管理器</p>
          
            <p>BJTUICP备21042601</p>
          
        </div>
        <div class="col-lg-5 col-md-5" style="margin-bottom: 5px;">
          
            <p>由 河北沙城中学 Linux 用户协会 维护</p> <p>感谢 <a href="http://aliyun.com/" target="_blank">阿里云</a> 提供服务器、存储、带宽</p> <p>特别感谢 维护者 TUBUG Ideal AlynxZhou Chestnut Paul Zhang</p> <p>如果遇到问题请联系 Chestnut#hbsczx@tubug.cn 或是在Github hbsczx 项目中提交issue </p>
          
        </div>
        <div class="col-lg-4 col-md-4" style="margin-bottom: 5px;">
          
            <img class="img-responsive" height="110px" width="110px" src="/images/bjtu_logo.png">
          
        </div>
      </div>
    </div>
  </footer>


  </body>
</html>
